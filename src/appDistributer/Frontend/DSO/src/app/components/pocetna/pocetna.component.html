<main
  class="main-content position-relative border-radius-lg"
  style="overflow-y: scroll; max-height: 89.1vh"
>
  <div class="container-fluid py-4">
    <div class="row">
      <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
        <div class="card">
          <div class="card-body p-3">
            <div class="row">
              <div class="col-12">
                <div class="numbers">
                  <p class="text-sm mb-0 text-uppercase font-weight-bold">
                    Today's Consumption
                  </p>
                  <h5 class="font-weight-bolder">
                    {{ totalCons.toFixed(2) }} kWh
                  </h5>
                  <p class="mb-0" *ngIf="ratioCons.charAt(0) != '-'">
                    <span class="text-success text-sm font-weight-bolder">{{
                      ratioCons
                    }}</span>
                    more than yesterday
                  </p>
                  <p class="mb-0" *ngIf="ratioCons.charAt(0) == '-'">
                    <span class="text-danger text-sm font-weight-bolder">{{
                      ratioCons
                    }}</span>
                    less than yesterday
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
        <div class="card">
          <div class="card-body p-3">
            <div class="row">
              <div class="col-12">
                <div class="numbers">
                  <p class="text-sm mb-0 text-uppercase font-weight-bold">
                    Today's Production
                  </p>
                  <h5 class="font-weight-bolder">
                    {{ totalProd.toFixed(2) }} kWh
                  </h5>
                  <p class="mb-0" *ngIf="ratioProd.charAt(0) == '-'">
                    <span class="text-danger text-sm font-weight-bolder">{{
                      ratioProd
                    }}</span>
                    less than yesterday
                  </p>
                  <p class="mb-0" *ngIf="ratioProd.charAt(0) != '-'">
                    <span class="text-success text-sm font-weight-bolder">{{
                      ratioProd
                    }}</span>
                    more than yesterday
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
        <div class="card">
          <div class="card-body p-3">
            <div class="row">
              <div class="col-12">
                <div class="numbers">
                  <p class="text-sm mb-0 text-uppercase font-weight-bold">
                    Electricity Price
                  </p>
                  <h5 class="font-weight-bolder">{{ price.toFixed(2) }} RSD</h5>
                  <p class="mb-0" *ngIf="sign == -1">
                    <span class="text-danger text-sm font-weight-bolder"
                      >{{ percentagesChange }}%</span
                    >
                    less than yesterday
                  </p>
                  <p class="mb-0" *ngIf="sign == +1">
                    <span class="text-success text-sm font-weight-bolder"
                      >+{{ percentagesChange }}%</span
                    >
                    more than yesterday
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl-3 col-sm-6">
        <div class="card">
          <div class="card-body p-3">
            <div class="row">
              <div class="col-12">
                <div class="numbers">
                  <p class="text-sm mb-0 text-uppercase font-weight-bold">
                    Tomorrow's Consumption
                  </p>
                  <h5 class="font-weight-bolder">
                    {{ nextCons.toFixed(2) }} kWh
                  </h5>
                  <p class="mb-0" *ngIf="nextProd.charAt(0) != '-'">
                    <span class="text-success text-sm font-weight-bolder">{{
                      nextProd
                    }}</span>
                    more than today
                  </p>
                  <p class="mb-0" *ngIf="nextProd.charAt(0) == '-'">
                    <span class="text-danger text-sm font-weight-bolder">{{
                      nextProd
                    }}</span>
                    less than today
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row mt-4">
      <div class="col-lg-12 mb-lg-0 mb-4">
        <div class="card z-index-2 h-100">
          <app-realizationPredictionAllProsumers></app-realizationPredictionAllProsumers>
        </div>
      </div>
    </div>
    <div class="row mt-4">
      <div class="col-lg-6 mb-lg-0 mb-4">
        <div class="card z-index-2 h-100 p-0">
          <app-historyAllProsumers
            style="height: 100%"
          ></app-historyAllProsumers>
        </div>
      </div>
      <div class="col-lg-6 mb-lg-0 mb-4">
        <div class="card z-index-2 h-100 p-0">
          <app-PredictionAllUsers class="h-100"></app-PredictionAllUsers>
        </div>
      </div>
    </div>
    <div class="row mt-4">
      <div class="col-lg-6 mb-lg-0 mb-4">
        <div class="card h-100">
          <app-top5Producers class="h-100"></app-top5Producers>
        </div>
      </div>
      <div class="col-lg-6">
        <div class="card h-100">
          <app-PieChartProsumers class="h-100"></app-PieChartProsumers>
        </div>
      </div>
    </div>
  </div>
</main>
